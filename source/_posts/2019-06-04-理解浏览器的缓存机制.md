---
title: 理解浏览器的缓存机制
description: <!-- more -->
date: 2019-06-04 10:07:00
updated: 2019-06-04 10:07:00
translate_title:
tags:
  - Cache
  - 缓存
  - Expires
  - Cache-control
  - Last-Modified
  - Etag
categories:
  - FrontEnd
---

> 本文借助其他同学分享的内容完成。

## 了解缓存

从前端的角度看缓存我们需要了解的是浏览器缓存，首先我们先了解一下浏览器缓存的使用过程

**第一次发起HTTP请求**

![0006](/images/http/0006.jpg)

先查找浏览器缓存没有，再请求浏览器并根据缓存规则缓存。

**浏览器存在有效缓存**

![0007](/images/http/0007.jpg)

当我们第二次请求同一个资源，如果存在有效浏览器缓存将不请求服务器直接使用。

**浏览器存在无效缓存服务器没过期**

![0008](/images/http/0008.jpg)

当我们过了一段时间再次请求该资源浏览器缓存已经过期，这时就需要带着缓存标识请求服务器，如果服务器没变化就返回304就继续使用。

**浏览器存在无效缓存服务器过期**

![0009](/images/http/0009.jpg)

当我们再过了一段时间再次请求该资源浏览器缓存已经过期，这时就需要带着缓存标识请求服务器，这时服务器资源有变化就返回200和新的资源。

看到这里感觉浏览器缓存也挺简单的，但是**浏览器缓存**真的就是仅仅查看一次吗？还有我盗用其他文章图片上有文字提到的**强制缓存**，还有没提到的**协商缓存**，这些都是什么东西，我们怎么去配置，对于我们前端同学来说这些应该是一个需要了解的东西。

看过别人的文章有说强制缓存、协商缓存的，也有说按照位置Service Worker、memory cache、disk cache

## 

[讲解Service Worker使用的注册和清理](https://developer.mozilla.org/zh-CN/docs/Web/API/Service_Worker_API/Using_Service_Workers#%E5%9F%BA%E6%9C%AC%E6%9E%B6%E6%9E%84)

# 参考
[一文读懂前端缓存](https://github.com/easonyq/easonyq.github.io/blob/master/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/others/cache.md)
[一文读懂前端缓存](https://zhuanlan.zhihu.com/p/44789005)
[彻底理解浏览器的缓存机制](https://heyingye.github.io/2018/04/16/%E5%BD%BB%E5%BA%95%E7%90%86%E8%A7%A3%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6/)
[你应该知道的浏览器缓存知识](https://excaliburhan.com/post/things-you-should-know-about-browser-cache.html?from=singlemessage)
[HTTP 消息头](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers)
[Service Worker API 服务工作线程](https://developer.mozilla.org/zh-CN/docs/Web/API/Service_Worker_API)
[使用 Service Workers](https://developer.mozilla.org/zh-CN/docs/Web/API/Service_Worker_API/Using_Service_Workers)
[Cache](https://developer.mozilla.org/zh-CN/docs/Web/API/Cache)
[网站渐进式增强体验(PWA)改造：Service Worker 应用详解](https://lzw.me/a/pwa-service-worker.html#1.3%20%E4%BB%80%E4%B9%88%E6%98%AF%20PWA)